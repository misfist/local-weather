(function(){!function(t){return t.fn.localtime=function(){var e,i;return i=function(t){return("0"+t).slice(-2)},e=function(t){var e,n;return e=t.getHours(),n=12>e?"AM":"PM",0===e&&(e=12),e>12&&(e-=12),e+":"+i(t.getMinutes())+" "+n},this.each(function(){var i;return i=t(this).html(),t(this).html(e(new Date(i))),t(this).attr("title",i)})}}(jQuery)}).call(this),$(document).ready(function(){$('[data-toggle="tooltip"]').tooltip();const t="af7142e69f8d39cab74a170b9c4aa9bf";var e="http://ip-api.com/json/",i="http://api.openweathermap.org/data/2.5/weather";$.getJSON(e).done(function(e){function n(n){$.getJSON(i,{lat:e.lat,lon:e.lon,units:n,APPID:t}).done(function(t){var e=t.weather[0].description.split(" ").join("-"),i="imperial"===n?"wi wi-fahrenheit":"wi wi-celsius",o=a(t.sys.sunrise),r=a(t.sys.sunset);$("body").addClass(e).addClass(n),$("#current-temp").html(Math.round(t.main.temp)),$("#current-temp").append('<span id="units" class="wi">'),$("#high").text(Math.round(t.main.temp_max)),$("#low").text(Math.round(t.main.temp_min)),$("#description").text(t.weather[0].main),$("#wind .wind").text(t.wind.speed),$("#units").addClass(i),$("#sunrise").find(".localtime").text(o),$("#sunset").find(".localtime").text(r),$("span.localtime").localtime()}).fail(function(t,e,i){var n=e+", "+i;console.error("Request Failed: "+n)})}function a(t){var e=t,i=new Date(0);return i.setUTCSeconds(e),i}console.log(e),$("#location").text(e.city+", "+e.region);var o="imperial";n(o),$("#weather-toggle").find("a#imperial").addClass("active"),$("#weather-toggle").on("click","a",function(t){o=$(this).attr("id"),$("#weather-toggle").find("a").removeClass("active"),$(this).addClass("active"),n(o)})}).fail(function(t,e,i){var n=e+", "+i;console.error("Request Failed: "+n)})});