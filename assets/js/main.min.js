(function(){!function(t){return t.fn.localtime=function(){var e,n;return n=function(t){return("0"+t).slice(-2)},e=function(t){var e,i;return e=t.getHours(),i=12>e?"AM":"PM",0===e&&(e=12),e>12&&(e-=12),e+":"+n(t.getMinutes())+" "+i},this.each(function(){var n;return n=t(this).html(),t(this).html(e(new Date(n))),t(this).attr("title",n)})}}(jQuery)}).call(this),$(document).ready(function(){console.log("main.js"),$('[data-toggle="tooltip"]').tooltip();const t="ae5ad98abb4a0a8b51d04136004b8061";var e="http://ip-api.com/json/",n="http://api.openweathermap.org/data/2.5/weather";$.getJSON(e).done(function(e){function i(i){$.getJSON(n,{lat:e.lat,lon:e.lon,units:i,APIKEY:t}).done(function(t){console.log(t);var e=t.weather[0].description.split(" ").join("-"),n="imperial"===i?"wi wi-fahrenheit":"wi wi-celsius",o=a(t.sys.sunrise),s=a(t.sys.sunset);console.log(o),console.log(s),$("body").addClass(e).addClass(i),$("#current-temp").html(Math.round(t.main.temp)),$("#current-temp").append('<span id="units" class="wi">'),$("#high").text(Math.round(t.main.temp_max)),$("#low").text(Math.round(t.main.temp_min)),$("#description").text(t.weather[0].main),$("#wind .wind").text(t.wind.speed),$("#units").addClass(n),$("#sunrise").find(".localtime").text(o),$("#sunset").find(".localtime").text(s),$("span.localtime").localtime()}).fail(function(t,e,n){var i=e+", "+n;console.log("Request Failed: "+i)})}function a(t){var e=t,n=new Date(0);return n.setUTCSeconds(e),n}console.log(e),$("#location").text(e.city+", "+e.region);var o="imperial";i(o),$("#weather-toggle").find("a#imperial").addClass("active"),$("#weather-toggle").on("click","a",function(t){o=$(this).attr("id"),$("#weather-toggle").find("a").removeClass("active"),$(this).addClass("active"),i(o)})}).fail(function(t,e,n){var i=e+", "+n;console.log("Request Failed: "+i)})});